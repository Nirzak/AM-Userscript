// ==UserScript==
// @name         Apple Music Audio Quality Viewer
// @namespace    Apple Music
// @version      2.0
// @icon         https://music.apple.com/assets/favicon/favicon-180-f10a76334177ea08c0b3b35b0269fe16.png
// @description  Thsi script will show in which quality an album is available in apple music
// @author       Ex Pert (Modified by Zak)
// @match        http*://music.apple.com/*
// @grant        GM_addStyle
// @grant        GM_addElement
// @grant        GM_getResourceText
// @grant        GM_setClipboard
// @resource     CSS https://nirzak.github.io/css-and-files/style.css
// @license      GPL version 3 or any later version; http://www.gnu.org/copyleft/gpl.html
// @license      (CC); http://creativecommons.org/licenses/by-nc-sa/3.0/
// ==/UserScript==

(function() {
    'use strict';

    const css = GM_getResourceText("CSS")
    GM_addStyle(css)

    const shoebox = Object.values(JSON.parse(document.getElementById('shoebox-media-api-cache-amp-music').innerHTML))
    const storeID = JSON.parse(shoebox[0]).d[0].id
    const albumObj = JSON.parse(shoebox[1]).d[0]

    let losslessArr=[], lossyArr=[]
    let hires_lossless = "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxuczphbmRyb2lkPSJodHRwOi8vc2NoZW1hcy5hbmRyb2lkLmNvbS9hcGsvcmVzL2FuZHJvaWQiIGhlaWdodD0iMzAiIHdpZHRoPSI5NC40NTUiIHZpZXdCb3g9IjAgMCA2Mi45NyAyMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxwYXRoIGQ9Ik05LjIxLDMuMTNhMy43NSwzLjc1IDAsMCAxLDAuMzUgMC41Myw3LjU0IDcuNTQsMCAwLDAgLTAuNDksMC45NGMtMC4xLC0wLjIgLTAuMiwtMC40IC0wLjMxLC0wLjU5QTksOSAwLDAgMSw5LjIxIDMuMTNaTTcuNjQsNy44MmMwLjA4LDAuMjUgMC4xNywwLjUxIDAuMjUsMC43NyAtMC4xNSwwLjc2IC0wLjI1LDEuNDYgLTAuMzIsMmgwYTAuMiwwLjIgMCwwIDEsLTAuMiAwLjE4aDBhMC4yMSwwLjIxIDAsMCAxLC0wLjE4IC0wLjIzQzcuMjksOS43OSA3LjQ0LDguODIgNy42NCw3LjgyWk01LjY0LDMuMTNBMy43NSwzLjc1IDAsMCAxLDYgMy42NmExOS42NSwxOS42NSAwLDAgMCwtMiA3TDQsMTAuNjZhMC4yLDAuMiAwLDAgMSwtMC4yIDAuMThoMGEwLjIxLDAuMjEgMCwwIDEsLTAuMTggLTAuMjNDMy45MSw4LjQ5IDQuNDIsNS4xOCA1LjYzLDMuMTNaTTE4Ljg3LDguMDVoMGEwLjE5LDAuMTkgMCwwIDEsMC4xNyAwLjIyaDBDMTksOS4wNyAxOC44LDEwIDE4LjYsMTFsLTAuMjUsLTAuNzdjMC4xNCwtMC43NiAwLjI1LC0xLjQ2IDAuMzIsLTJ2MEEwLjIsMC4yIDAsMCAxLDE4Ljg3IDguMDVaTTIyLjQ1LDguMDVoMGEwLjIsMC4yIDAsMCAxLDAuMTggMC4yMmgwYy0wLjMyLDIuMDkgLTAuODMsNS40IC0yLDcuNDVhNS40MSw1LjQxIDAsMCAxLC0wLjM1IC0wLjUzLDE5Ljg2IDE5Ljg2LDAgMCwwIDIsLTd2MEEwLjIsMC4yIDAsMCAxLDIyLjQ1IDguMDVaTTE3LjE3LDE0LjI2IEwxNy40NywxNC44NWE3LjIyLDcuMjIgMCwwIDEsLTAuNDQgMC44OCw0LjQzIDQuNDMsMCAwLDEgLTAuMzUsLTAuNTNBMTAuMzQsMTAuMzQgMCwwIDAsMTcuMTcgMTQuMjZaTTguNTMsMS4yNmEyLjg5LDIuODkgMCwwIDEsMS43NSAwLjYyLDQuMTIgNC4xMiwwIDAsMSAwLjU0LDAuNDhjMi43MSwyLjc5IDMuODYsMTAuMTYgNS42OCwxMy4xNGEyLjU1LDIuNTUgMCwwIDAsMC4zIDAuNDMsMS44MSAxLjgxLDAgMCwwIDEuMzgsMC44OCAxLjQsMS40IDAsMCAwLDAuNTUgLTAuMTIsNC42MiA0LjYyLDAgMCwwIDAuNTcsMC41MiAzLDMgMCwwIDEsLTEuNTkgMC40NEEyLjg2LDIuODYgMCwwIDEsMTYgMTdhNS4zNiw1LjM2IDAsMCAxLC0wLjU1IC0wLjQ4Yy0yLjcsLTIuOCAtMy44NSwtMTAuMTYgLTUuNjcsLTEzLjE0IC0wLjU1LC0wLjkgLTEuMjYsLTEuNTggLTIuMjMsLTEuMTlhNC43MSw0LjcxIDAsMCAwLC0wLjU3IC0wLjUzQTMsMyAwLDAgMSw4LjUzIDEuMjNaTTQuNDcsMS4yNmM2LC0wLjgxIDYuNDIsMTUuNTEgMTAuMTMsMTUuNTFhMS40LDEuNCAwLDAgMCwwLjU1IC0wLjEyLDMuOTQgMy45NCwwIDAsMCAwLjU3LDAuNTIgMy4wNiwzLjA2IDAsMCAxLC0xLjU5IDAuNDRDMTAuODgsMTcuNjIgOS4yNiwxMS44OCA4LDhjLTAuMDgsLTAuMjYgLTAuMTcsLTAuNTEgLTAuMjUsLTAuNzZhMjAsMjAgMCwwIDAsLTEuNiAtMy44Nyw0LjQ4IDQuNDgsMCAwLDAgLTAuMzcsLTAuNTMgMS41MywxLjUzIDAsMCAwLC0yLjM2IC0wLjM4QzEuNTUsMy44MiAwLjY4LDguMzMgMC40MSwxMC42MmgwYTAuMjEsMC4yMSAwLDAgMSwtMC4yMSAwLjE4aDBBMC4yMSwwLjIxIDAsMCAxLDAgMTAuNThDMC40MSw4IDEuMDgsMy41NyAzLDEuOTJBMi44OCwyLjg4IDAsMCAxLDQuNDcgMS4yN1pNMTIuMTEsMS4yNmMzLjI1LDAgNC44Niw1Ljc1IDYuMTIsOS42MSAwLjA4LDAuMjYgMC4xNywwLjUxIDAuMjUsMC43NmEyMCwyMCAwLDAgMCwxLjYgMy44Nyw1Ljg1IDUuODUsMCAwLDAgMC4zNiwwLjUyIDEuNzQsMS43NCAwLDAgMCwxLjMyIDAuNzksMS44MiAxLjgyLDAgMCwwIDEsLTAuNGMxLjg3LC0xLjM1IDIuNzQsLTUuODUgMywtOC4xNHYwYTAuMiwwLjIgMCwwIDEsMC4yIC0wLjE3aDBhMC4yLDAuMiAwLDAgMSwwLjE4IDAuMjJjLTAuNDEsMi41OSAtMS4wOCw3IC0zLDguNjZhMywzIDAsMCAxLC0xLjkzIDAuNjljLTUuNDMsMCAtNi4wNywtMTUuNTQgLTkuNjUsLTE1LjU0YTEuNCwxLjQgMCwwIDAsLTAuNTUgMC4xMiw0LjcxIDQuNzEsMCAwLDAgLTAuNTcsLTAuNTNBMywzIDAsMCAxLDEyLjExIDEuMjNaIiBmaWxsPSIjNmM2YzcwIiBmaWxsLW9wYWNpdHk9IjEuMCIgZmlsbC1ydWxlPSIxIi8+CiAgICA8cGF0aCBkPSJNMzYuNTksMWEwLjYsMC42IDAsMSAxLC0wLjYxIDAuNkEwLjYsMC42IDAsMCAxLDM2LjU5IDFaTTQ0LjQsMi4zMUw0MywyLjMxTDQzLDQuNTloMS40NGExLjA3LDEuMDcgMCwwIDAsMS4yMSAtMS4xNEExLjEsMS4xIDAsMCAwLDQ0LjQgMi4zMVpNNDkuNCwzLjc0QTEuMjYsMS4yNiAwLDAgMCw0OC4xIDVoMi40NUExLjE5LDEuMTkgMCwwIDAsNDkuMzYgMy43NFpNNDAuOTgsNC44NHYwLjg4TDM4LDUuNzJMMzgsNC44NFpNNDQuNTgsMS40OGExLjkxLDEuOTEgMCwwIDEsMi4xMiAyLDEuODMgMS44MywwIDAsMSAtMS4yNCwxLjgybDEuNDQsMi42TDQ1LjcxLDcuOUw0NC40LDUuNEw0Myw1LjRMNDMsNy44NUw0Miw3Ljg1TDQyLDEuNDhaTTM3LjA2LDMuMDV2NC44aC0xTDM2LjA2LDMuMDVaTTMwLjc3LDEuNDhMMzAuNzcsNC4xN2gzLjI5TDM0LjA2LDEuNDhoMUwzNS4wNiw3Ljg1aC0xTDM0LjA2LDVMMzAuNzcsNUwzMC43Nyw3Ljg1aC0xTDI5Ljc3LDEuNDhaTTQ5LjM2LDNhMi4xMiwyLjEyIDAsMCAxLDIuMTYgMi40MnYwLjMzTDQ4LjEsNS43NXYwYTEuMywxLjMgMCwwIDAsMS4yOSAxLjQyLDEuMTUgMS4xNSwwIDAsMCAxLjE1LC0wLjZoMC45MkEyLDIgMCwwIDEsNDkuMzYgOGEyLjE5LDIuMTkgMCwwIDEsLTIuMjMgLTIuNDlBMi4yMiwyLjIyIDAsMCAxLDQ5LjM2IDNaTTU0LDNjMS4wOSwwIDEuOCwwLjUxIDEuODksMS4zNEw1NSw0LjM0YTAuOSwwLjkgMCwwIDAsLTEgLTAuNmMtMC41MywwIC0wLjk0LDAuMjcgLTAuOTQsMC42NXMwLjI1LDAuNDkgMC43NywwLjYxbDAuOCwwLjE5YzAuOTIsMC4yMSAxLjM2LDAuNiAxLjM2LDEuMyAwLDAuODkgLTAuODUsMS41IC0yLDEuNXMtMS45LC0wLjUyIC0yLC0xLjM1aDFhMSwxIDAsMCAwLDEgMC42YzAuNiwwIDEsLTAuMjcgMSwtMC42NnMtMC4yMywtMC41IC0wLjcxLC0wLjYxbC0wLjg0LC0wLjJjLTAuOTIsLTAuMjEgLTEuMzUsLTAuNjIgLTEuMzUsLTEuMzNTNTIuODksMyA1NCwzWk01MiwxMy43OWExLjI0LDEuMjQgMCwwIDAsLTEuMjUgMS4yOGgyLjQ0QTEuMTgsMS4xOCAwLDAgMCw1MiAxMy43OVpNMzYuMjUsMTMuNzljLTAuODMsMCAtMS4yOSwwLjYyIC0xLjI5LDEuNjlzMC40NiwxLjY4IDEuMjksMS42OCAxLjMsLTAuNjIgMS4zLC0xLjY4UzM3LjExLDEzLjgyIDM2LjI4LDEzLjgyWk00OS4wNCwxMS4xOXY2LjY5aC0xTDQ4LjA0LDExLjIyWk0zMC43NCwxMS41djUuNTJoM3YwLjg2aC00TDI5Ljc0LDExLjUzWk00NS4zOSwxM2MxLjA4LDAgMS44LDAuNTEgMS44OSwxLjM0aC0wLjkyYy0wLjA5LC0wLjM2IC0wLjQzLC0wLjU5IC0xLC0wLjU5cy0wLjk0LDAuMjYgLTAuOTQsMC42NSAwLjI0LDAuNDggMC43NywwLjZsMC44LDAuMTljMC45MiwwLjIxIDEuMzUsMC42IDEuMzUsMS4zIDAsMC44OSAtMC44NSwxLjUgLTIsMS41cy0xLjkxLC0wLjUyIC0yLC0xLjM1aDFhMSwxIDAsMCAwLDEgMC42MWMwLjU5LDAgMSwtMC4yOCAxLC0wLjY3cy0wLjIzLC0wLjQ5IC0wLjcxLC0wLjYxbC0wLjg1LC0wLjJjLTAuOTIsLTAuMjEgLTEuMzUsLTAuNjIgLTEuMzUsLTEuMzNTNDQuMjksMTMgNDUuMzksMTNaTTQxLDEzYzEuMDksMCAxLjgsMC41MSAxLjksMS4zNEw0MiwxNC4zNGMtMC4wOSwtMC4zNiAtMC40MywtMC41OSAtMSwtMC41OXMtMC45MywwLjI2IC0wLjkzLDAuNjUgMC4yNCwwLjQ4IDAuNzYsMC42bDAuODEsMC4xOWMwLjkyLDAuMjEgMS4zNSwwLjYgMS4zNSwxLjMgMCwwLjg5IC0wLjg1LDEuNSAtMiwxLjVzLTEuOTEsLTAuNTIgLTIsLTEuMzVMNDAsMTYuNjRhMSwxIDAsMCAwLDEuMDYgMC42MWMwLjU5LDAgMSwtMC4yOCAxLC0wLjY3cy0wLjIzLC0wLjQ5IC0wLjcyLC0wLjYxbC0wLjg0LC0wLjJjLTAuOTIsLTAuMjEgLTEuMzUsLTAuNjIgLTEuMzUsLTEuMzNTMzkuOTMsMTMgNDEsMTNaTTU2LjYzLDEzYzEuMDksMCAxLjgsMC41MSAxLjksMS4zNGgtMC45MmMtMC4wOSwtMC4zNiAtMC40NCwtMC41OSAtMSwtMC41OXMtMC45NCwwLjI2IC0wLjk0LDAuNjUgMC4yNSwwLjQ4IDAuNzcsMC42bDAuODEsMC4xOWMwLjkyLDAuMjEgMS4zNSwwLjYgMS4zNSwxLjMgMCwwLjg5IC0wLjg1LDEuNSAtMiwxLjVzLTEuOSwtMC41MiAtMiwtMS4zNWgxYTEsMSAwLDAgMCwxLjA2IDAuNjFjMC41OSwwIDEsLTAuMjggMSwtMC42N1M1Ny40NSwxNi4xIDU3LDE2bC0wLjg0LC0wLjJjLTAuOTIsLTAuMjEgLTEuMzUsLTAuNjIgLTEuMzUsLTEuMzNTNTUuNTYsMTMgNTYuNjUsMTNaTTYxLDEzYzEuMDksMCAxLjgsMC41MSAxLjksMS4zNEw2MiwxNC4zNGMtMC4wOSwtMC4zNiAtMC40MywtMC41OSAtMSwtMC41OXMtMC45MywwLjI2IC0wLjkzLDAuNjUgMC4yNCwwLjQ4IDAuNzYsMC42bDAuODEsMC4xOWMwLjkyLDAuMjEgMS4zNSwwLjYgMS4zNSwxLjMgMCwwLjg5IC0wLjg1LDEuNSAtMiwxLjVzLTEuOTEsLTAuNTIgLTIsLTEuMzVoMWExLDEgMCwwIDAsMS4wNiAwLjYxYzAuNTksMCAxLC0wLjI4IDEsLTAuNjdzLTAuMjMsLTAuNDkgLTAuNzIsLTAuNjFsLTAuODQsLTAuMmMtMC45MiwtMC4yMSAtMS4zNSwtMC42MiAtMS4zNSwtMS4zM1M1OS45MiwxMyA2MSwxM1pNMzYuMjgsMTNhMi4yMywyLjIzIDAsMCAxLDIuMjkgMi41LDIuMjkgMi4yOSwwIDEsMSAtNC41NywwQTIuMjIsMi4yMiAwLDAgMSwzNi4yOCAxM1pNNTIsMTNhMi4xMiwyLjEyIDAsMCAxLDIuMTYgMi40MnYwLjMzTDUwLjc4LDE1Ljc1djBhMS4yOSwxLjI5IDAsMCAwLDEuMjggMS40MiwxLjE2IDEuMTYsMCAwLDAgMS4xNiwtMC42aDAuOTJBMiwyIDAsMCAxLDUyIDE4YTIuMTksMi4xOSAwLDAgMSwtMi4yNCAtMi40OEEyLjIzLDIuMjMgMCwwIDEsNTIgMTNaIiBmaWxsPSIjNmM2YzcwIiBmaWxsLW9wYWNpdHk9IjEuMCIgZmlsbC1ydWxlPSIxIi8+Cjwvc3ZnPg=="
    let lossless = "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxuczphbmRyb2lkPSJodHRwOi8vc2NoZW1hcy5hbmRyb2lkLmNvbS9hcGsvcmVzL2FuZHJvaWQiIGhlaWdodD0iMzAiIHdpZHRoPSI5NiIgdmlld0JveD0iMCAwIDY0IDIwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogICAgPHBhdGggZD0iTTkuMjEsMy4xM2EzLjc1LDMuNzUgMCwwIDEsMC4zNSAwLjUzLDcuNTQgNy41NCwwIDAsMCAtMC40OSwwLjk0Yy0wLjEsLTAuMiAtMC4yLC0wLjQgLTAuMzEsLTAuNTlBOSw5IDAsMCAxLDkuMjEgMy4xM1pNNy42NCw3LjgyYzAuMDgsMC4yNSAwLjE3LDAuNTEgMC4yNSwwLjc3IC0wLjE1LDAuNzYgLTAuMjUsMS40NiAtMC4zMiwyaDBhMC4yLDAuMiAwLDAgMSwtMC4yIDAuMThoMGEwLjIxLDAuMjEgMCwwIDEsLTAuMTggLTAuMjNDNy4yOSw5Ljc5IDcuNDQsOC44MiA3LjY0LDcuODJaTTUuNjQsMy4xM0EzLjc1LDMuNzUgMCwwIDEsNiAzLjY2YTE5LjY1LDE5LjY1IDAsMCAwLC0yIDdMNCwxMC42NmEwLjIsMC4yIDAsMCAxLC0wLjIgMC4xOGgwYTAuMjEsMC4yMSAwLDAgMSwtMC4xOCAtMC4yM0MzLjkxLDguNDkgNC40Miw1LjE4IDUuNjMsMy4xM1pNMTguODcsOC4wNWgwYTAuMTksMC4xOSAwLDAgMSwwLjE3IDAuMjJoMEMxOSw5LjA3IDE4LjgsMTAgMTguNiwxMWwtMC4yNSwtMC43N2MwLjE0LC0wLjc2IDAuMjUsLTEuNDYgMC4zMiwtMnYwQTAuMiwwLjIgMCwwIDEsMTguODcgOC4wNVpNMjIuNDUsOC4wNWgwYTAuMiwwLjIgMCwwIDEsMC4xOCAwLjIyaDBjLTAuMzIsMi4wOSAtMC44Myw1LjQgLTIsNy40NWE1LjQxLDUuNDEgMCwwIDEsLTAuMzUgLTAuNTMsMTkuODYgMTkuODYsMCAwLDAgMiwtN3YwQTAuMiwwLjIgMCwwIDEsMjIuNDUgOC4wNVpNMTcuMTcsMTQuMjYgTDE3LjQ3LDE0Ljg1YTcuMjIsNy4yMiAwLDAgMSwtMC40NCAwLjg4LDQuNDMgNC40MywwIDAsMSAtMC4zNSwtMC41M0ExMC4zNCwxMC4zNCAwLDAgMCwxNy4xNyAxNC4yNlpNOC41MywxLjI2YTIuODksMi44OSAwLDAgMSwxLjc1IDAuNjIsNC4xMiA0LjEyLDAgMCwxIDAuNTQsMC40OGMyLjcxLDIuNzkgMy44NiwxMC4xNiA1LjY4LDEzLjE0YTIuNTUsMi41NSAwLDAgMCwwLjMgMC40MywxLjgxIDEuODEsMCAwLDAgMS4zOCwwLjg4IDEuNCwxLjQgMCwwIDAsMC41NSAtMC4xMiw0LjYyIDQuNjIsMCAwLDAgMC41NywwLjUyIDMsMyAwLDAgMSwtMS41OSAwLjQ0QTIuODYsMi44NiAwLDAgMSwxNiAxN2E1LjM2LDUuMzYgMCwwIDEsLTAuNTUgLTAuNDhjLTIuNywtMi44IC0zLjg1LC0xMC4xNiAtNS42NywtMTMuMTQgLTAuNTUsLTAuOSAtMS4yNiwtMS41OCAtMi4yMywtMS4xOWE0LjcxLDQuNzEgMCwwIDAsLTAuNTcgLTAuNTNBMywzIDAsMCAxLDguNTMgMS4yM1pNNC40NywxLjI2YzYsLTAuODEgNi40MiwxNS41MSAxMC4xMywxNS41MWExLjQsMS40IDAsMCAwLDAuNTUgLTAuMTIsMy45NCAzLjk0LDAgMCwwIDAuNTcsMC41MiAzLjA2LDMuMDYgMCwwIDEsLTEuNTkgMC40NEMxMC44OCwxNy42MiA5LjI2LDExLjg4IDgsOGMtMC4wOCwtMC4yNiAtMC4xNywtMC41MSAtMC4yNSwtMC43NmEyMCwyMCAwLDAgMCwtMS42IC0zLjg3LDQuNDggNC40OCwwIDAsMCAtMC4zNywtMC41MyAxLjUzLDEuNTMgMCwwIDAsLTIuMzYgLTAuMzhDMS41NSwzLjgyIDAuNjgsOC4zMyAwLjQxLDEwLjYyaDBhMC4yMSwwLjIxIDAsMCAxLC0wLjIxIDAuMThoMEEwLjIxLDAuMjEgMCwwIDEsMCAxMC41OEMwLjQxLDggMS4wOCwzLjU3IDMsMS45MkEyLjg4LDIuODggMCwwIDEsNC40NyAxLjI3Wk0xMi4xMSwxLjI2YzMuMjUsMCA0Ljg2LDUuNzUgNi4xMiw5LjYxIDAuMDgsMC4yNiAwLjE3LDAuNTEgMC4yNSwwLjc2YTIwLDIwIDAsMCAwLDEuNiAzLjg3LDUuODUgNS44NSwwIDAsMCAwLjM2LDAuNTIgMS43NCwxLjc0IDAsMCAwLDEuMzIgMC43OSwxLjgyIDEuODIsMCAwLDAgMSwtMC40YzEuODcsLTEuMzUgMi43NCwtNS44NSAzLC04LjE0djBhMC4yLDAuMiAwLDAgMSwwLjIgLTAuMTdoMGEwLjIsMC4yIDAsMCAxLDAuMTggMC4yMmMtMC40MSwyLjU5IC0xLjA4LDcgLTMsOC42NmEzLDMgMCwwIDEsLTEuOTMgMC42OWMtNS40MywwIC02LjA3LC0xNS41NCAtOS42NSwtMTUuNTRhMS40LDEuNCAwLDAgMCwtMC41NSAwLjEyLDQuNzEgNC43MSwwIDAsMCAtMC41NywtMC41M0EzLDMgMCwwIDEsMTIuMTEgMS4yM1oiIGZpbGw9IiM2YzZjNzAiIGZpbGwtb3BhY2l0eT0iMS4wIiBmaWxsLXJ1bGU9IjEiLz4KICAgIDxwYXRoIGQ9Ik01Mi42OCw4LjE3YTEuMzEsMS4zMSAwLDAgMCwtMS4zIDEuMzRoMi41M0ExLjIzLDEuMjMgMCwwIDAsNTIuNjggOC4xN1pNMzYuNDMsOC4xN2MtMC44NiwwIC0xLjM0LDAuNjQgLTEuMzQsMS43NXMwLjQ4LDEuNzQgMS4zNCwxLjc0IDEuMzQsLTAuNjQgMS4zNCwtMS43NFMzNy4yOCw4LjIxIDM2LjQzLDguMjFaTTQ5LjYyLDUuNTJ2Ni45M2gtMUw0OC42Miw1LjUyWk0zMC43NCw1LjgzdjUuNzJoMy4xdjAuOUwyOS43MSwxMi40NUwyOS43MSw1LjgzWk02Miw3LjM3YzEuMTIsMCAxLjg2LDAuNTIgMS45NSwxLjM5TDYzLDguNzZhMC45MywwLjkzIDAsMCAwLC0xIC0wLjYyYy0wLjU1LDAgLTEsMC4yNyAtMSwwLjY4czAuMjUsMC41IDAuNzksMC42MmwwLjgzLDAuMmMwLjk1LDAuMjIgMS40LDAuNjMgMS40LDEuMzUgMCwwLjkzIC0wLjg4LDEuNTUgLTIuMDcsMS41NXMtMiwtMC41MyAtMiwtMS40aDFhMSwxIDAsMCAwLDEuMDggMC42M2MwLjYyLDAgMSwtMC4yOCAxLC0wLjY5cy0wLjIzLC0wLjUxIC0wLjczLC0wLjYzbC0wLjg3LC0wLjIxQzYwLjQ1LDEwIDYwLDkuNiA2MCw4Ljg2UzYwLjgyLDcuMzcgNjIsNy4zN1pNNTcuNSw3LjM3YzEuMTIsMCAxLjg2LDAuNTIgMS45NSwxLjM5aC0wLjk0YTAuOTQsMC45NCAwLDAgMCwtMSAtMC42MmMtMC41NSwwIC0xLDAuMjcgLTEsMC42OHMwLjI1LDAuNSAwLjc5LDAuNjJsMC44MywwLjJjMC45NSwwLjIyIDEuNCwwLjYzIDEuNCwxLjM1IDAsMC45MyAtMC44OCwxLjU1IC0yLjA3LDEuNTVzLTIsLTAuNTMgLTIsLTEuNGgxYTEsMSAwLDAgMCwxLjA4IDAuNjNjMC42MiwwIDEsLTAuMjggMSwtMC42OXMtMC4yMywtMC41MSAtMC43MywtMC42M2wtMC44NywtMC4yMUM1NiwxMCA1NS41MSw5LjYgNTUuNTEsOC44NlM1Ni4zMiw3LjM3IDU3LjQ1LDcuMzdaTTUyLjczLDcuMzdjMS4zOSwwIDIuMjMsMSAyLjIzLDIuNTF2MC4zNEw1MS4zOCwxMC4yMnYwYTEuMzQsMS4zNCAwLDAgMCwxLjMzIDEuNDcsMS4xOCAxLjE4LDAgMCwwIDEuMTksLTAuNjNoMWEyLDIgMCwwIDEsLTIuMTYgMS40M0EyLjI2LDIuMjYgMCwwIDEsNTAuMzggMTAsMi4zIDIuMywwIDAsMSA1Mi42OCw3LjM3Wk00NS44Nyw3LjM3YzEuMTIsMCAxLjg2LDAuNTIgMiwxLjM5aC0wLjk0YTAuOTMsMC45MyAwLDAgMCwtMSAtMC42MmMtMC41NSwwIC0xLDAuMjcgLTEsMC42OHMwLjI2LDAuNSAwLjgsMC42MmwwLjgzLDAuMmMxLDAuMjIgMS4zOSwwLjYzIDEuMzksMS4zNSAwLDAuOTMgLTAuODgsMS41NSAtMi4wNywxLjU1cy0yLC0wLjUzIC0yLC0xLjRoMWMwLjEyLDAuMzkgMC40OSwwLjYzIDEuMDksMC42M3MxLjA1LC0wLjI4IDEuMDUsLTAuNjkgLTAuMjQsLTAuNTEgLTAuNzQsLTAuNjNsLTAuODcsLTAuMjFjLTEsLTAuMjIgLTEuMzksLTAuNjQgLTEuMzksLTEuMzhTNDQuNjksNy4zNyA0NS44Miw3LjM3Wk0zNi40OCw3LjM3QTIuMjksMi4yOSAwLDAgMSwzOC43OCAxMGEyLjM2LDIuMzYgMCwxIDEsLTQuNzEgMEEyLjI5LDIuMjkgMCwwIDEsMzYuNDMgNy4zN1pNNDEuMzcsNy4zN2MxLjEyLDAgMS44NiwwLjUyIDIsMS4zOWgtMC45NGEwLjkzLDAuOTMgMCwwIDAsLTEgLTAuNjJjLTAuNTUsMCAtMSwwLjI3IC0xLDAuNjhzMC4yNSwwLjUgMC44LDAuNjJsMC44MywwLjJjMSwwLjIyIDEuMzksMC42MyAxLjM5LDEuMzUgMCwwLjkzIC0wLjg4LDEuNTUgLTIuMDcsMS41NXMtMiwtMC41MyAtMiwtMS40aDFhMSwxIDAsMCAwLDEuMDggMC42M2MwLjYyLDAgMSwtMC4yOCAxLC0wLjY5cy0wLjIzLC0wLjUxIC0wLjczLC0wLjYzbC0wLjg3LC0wLjIxYy0xLC0wLjIyIC0xLjM5LC0wLjY0IC0xLjM5LC0xLjM4UzQwLjE5LDcuMzcgNDEuMzIsNy4zN1oiIGZpbGw9IiM2YzZjNzAiIGZpbGwtb3BhY2l0eT0iMS4wIiBmaWxsLXJ1bGU9IjEiLz4KPC9zdmc+"
    let apple_digital_master = "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxuczphbmRyb2lkPSJodHRwOi8vc2NoZW1hcy5hbmRyb2lkLmNvbS9hcGsvcmVzL2FuZHJvaWQiIGhlaWdodD0iMzAiIHdpZHRoPSIxMTciIHZpZXdCb3g9IjAgMCA3OCAyMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxwYXRoIGQ9Ik0xNy40OCwxLjIyQTIuNzgsMi43OCAwLDAgMSwxOSAzLjg4VjE1LjEzYTIuNzIsMi43MiAwLDAgMSwtMS4zNCAyLjU5LDIuMiAyLjIsMCAwLDEgLTEuMSwwLjI4IDQuMiw0LjIgMCwwIDEsLTIuNjggLTEuMjRMOS42NCwxMy4zOGEwLjgsMC44IDAsMCAxLC0wLjEyIC0xLjE0LDAuODQgMC44NCwwIDAsMSAxLjE2LC0wLjEybDQuMjUsMy40IDAsMGMwLjgxLDAuNjkgMS41MiwxIDEuOSwwLjc3IDAuMTQsLTAuMDggMC41LC0wLjI4IDAuNSwtMS4xOFYzLjg4YTEuMjMsMS4yMyAwLDAgMCwtMC41NiAtMS4xOWMtMC43OSwtMC4zNiAtMS43MiwwLjYzIC0yLjA4LDEuMDdsMCwwYy0wLjU1LDAuNTkgLTIuMzQsMi45NCAtNC4xOCw1LjM5TDkuODksMTAgOC4zMSwxMi4xMWMtMS41MiwyIC0yLjg0LDMuODEgLTMuMzEsNC4zOCAtMS4yMywxLjcgLTIuNDcsMS42NiAtMy4yOSwxLjMzQTMsMyAwLDAgMSwwIDE0Ljc2VjkuNTlBMi43OSwyLjc5IDAsMCAxLDEuNDUgNi44MWEzLjA4LDMuMDggMCwwIDEsMy40MiAwLjgzTDYuNDcsOWEwLjgsMC44IDAsMCAxLDAuMSAxLjE0LDAuODMgMC44MywwIDAsMSAtMS4xNiwwLjA5TDMuOCw4Ljg3Yy0xLC0wLjkgLTEuNDMsLTAuNzEgLTEuNjIsLTAuNjJzLTAuNTIsMC4yNiAtMC41MywxLjM1djUuMTZjMCwwLjQ4IDAuMDksMS4zMiAwLjY4LDEuNTYgMC4xNywwLjA3IDAuNiwwLjI0IDEuMzQsLTAuNzhsMCwwQzQuMTMsMTUgNS40NSwxMy4yIDcsMTEuMTVMNy44NSwxMGwwLjY1LC0wLjg3YzIuMTYsLTIuODkgNC4yNSwtNS42NSA0Ljk0LC02LjRDMTUuMjYsMC41NCAxNi44NywxIDE3LjQ4LDEuMjJaIiBmaWxsPSIjNmM2YzcwIiBmaWxsLW9wYWNpdHk9IjEuMCIgZmlsbC1ydWxlPSIxIi8+CiAgICA8cGF0aCBkPSJNNDMuMTUsMy40MmExLjI5LDEuMjkgMCwwIDAsLTEuMjggMS4zMmgyLjVBMS4yMSwxLjIxIDAsMCAwLDQzLjE1IDMuNDJaTTI1LDIuMjdoLTAuMDhsLTEsMi43OWgyWk0zNi4xLDMuNDdjLTAuODMsMCAtMS4zNCwwLjY2IC0xLjM0LDEuNzFzMC41MSwxLjcxIDEuMzQsMS43MSAxLjMzLC0wLjY0IDEuMzMsLTEuNzFTMzYuODgsMy40NyAzNi4wNSwzLjQ3Wk0zMC43NiwzLjQ3Yy0wLjgzLDAgLTEuMzQsMC42NiAtMS4zNCwxLjcxczAuNTEsMS43MSAxLjMzLDEuNzFTMzIsNi4yNSAzMiw1LjE4IDMxLjU0LDMuNDcgMzAuNzEsMy40N1pNMjUuNDcsMS4xMWwyLjM4LDYuNTNMMjYuNzYsNy42NGwtMC42LC0xLjc3TDIzLjY1LDUuODdsLTAuNiwxLjc3TDIyLDcuNjRsMi4zNywtNi41M1pNNDAuMTIsMC44TDQwLjEyLDcuNjRoLTFMMzkuMTIsMC44Wk00My4xMiwyLjYzYTIuMTcsMi4xNyAwLDAgMSwyLjIxIDIuNDh2MC4zM2gtMy41djBhMS4zMiwxLjMyIDAsMCAwLDEuMzIgMS40NiwxLjE4IDEuMTgsMCAwLDAgMS4xOCwtMC42MmgwLjk0YTIsMiAwLDAgMSwtMi4xNSAxLjQxLDIuMjQgMi4yNCwwIDAsMSAtMi4yOSwtMi41NEEyLjI4LDIuMjggMCwwIDEsNDMuMTYgMi42M1pNMzEsMi42NGMxLjI2LDAgMi4wNiwxIDIuMDYsMi41NFMzMi4yNCw3LjcyIDMxLDcuNzJhMS42MiwxLjYyIDAsMCAxLC0xLjUzIC0wLjgyaC0wLjA3TDI5LjQsOS4yN2gtMUwyOC40LDIuNzNoMC45NHYwLjgxaDAuMDdBMS43NCwxLjc0IDAsMCAxLDMxIDIuNjRaTTM2LjM0LDIuNjRjMS4yNywwIDIuMDYsMSAyLjA2LDIuNTRzLTAuNzksMi41NCAtMi4wNSwyLjU0YTEuNjEsMS42MSAwLDAgMSwtMS41MiAtMC44MmgtMC4wOEwzNC43NSw5LjI3aC0xTDMzLjc1LDIuNzNoMC45NHYwLjgxaDAuMDdBMS43NSwxLjc1IDAsMCAxLDM2LjMyIDIuNjRaTTM2LjYsMTAuOTFhMC42MiwwLjYyIDAsMSAxLC0wLjYyIDAuNjFBMC42MiwwLjYyIDAsMCAxLDM2LjU4IDEwLjkxWk0yOS4zLDEwLjkxYTAuNjIsMC42MiAwLDEgMSwtMC42MiAwLjYxQTAuNjIsMC42MiAwLDAgMSwyOS4yOCAxMC45MVpNNzIuMywxMy43MUExLjI4LDEuMjggMCwwIDAsNzEgMTVoMi41QTEuMjEsMS4yMSAwLDAgMCw3Mi4yOCAxMy43MVpNMzIuODQsMTMuNzFjLTAuODUsMCAtMS4zMiwwLjY0IC0xLjMyLDEuNjRzMC40NywxLjY1IDEuMzIsMS42NSAxLjM0LC0wLjY0IDEuMzQsLTEuNjVTMzMuNjUsMTMuNzYgMzIuODIsMTMuNzZaTTI0Ljg0LDEyLjIyTDIzLjUzLDEyLjIydjQuNzhoMS4yNGMxLjM3LDAgMi4xNywtMC44NyAyLjE3LC0yLjM5QTIuMDksMi4wOSAwLDAgMCwyNC43NyAxMi4yN1pNNjAuODQsMTUuNjMgTDU5LjYzLDE1LjcyYy0wLjY4LDAgLTEsMC4yOCAtMSwwLjczczAuMzksMC43MiAwLjkyLDAuNzJhMS4xNywxLjE3IDAsMCAwLDEuMjggLTEuMTFaTTQ0LDE1LjY4bC0xLjIxLDAuMDljLTAuNjgsMCAtMSwwLjI4IC0xLDAuNzNzMC4zOSwwLjcyIDAuOTIsMC43MkExLjE3LDEuMTcgMCwwIDAsNDQgMTYuMTFaTTI0Ljg4LDExLjRBMi44OSwyLjg5IDAsMCAxLDI4IDE0LjY0YzAsMi4wOCAtMS4xMywzLjI4IC0zLjA5LDMuMjhMMjIuNTEsMTcuOTJMMjIuNTEsMTEuNFpNMjkuNzcsMTN2NC45MWgtMUwyOC43NywxM1pNNTEuMzUsMTEuNGwyLjA5LDUuMWgwLjA4bDIuMSwtNS4xaDEuMTl2Ni41MmgtMUw1NS44MSwxMy4xNEw1NS44LDEzLjE0bC0xLjkzLDQuNjdMNTMuMSwxNy44MWwtMS45MywtNC42N2gtMC4wNnY0Ljc4aC0xTDUwLjExLDExLjRaTTQ3LDExLjA5djYuODNMNDYsMTcuOTJMNDYsMTEuMDlaTTM3LjA3LDEzdjQuOTFoLTFMMzYuMDcsMTNaTTc3LjU2LDEyLjkyQTIuNzYsMi43NiAwLDAgMSw3OCAxM3YwLjkyYTIuNDcsMi40NyAwLDAgMCwtMC41NSAtMC4wNkExLjE3LDEuMTcgMCwwIDAsNzYuMTkgMTV2Mi45M2gtMUw3NS4xOSwxM2gwLjk0djAuNzVoMC4wN0ExLjM0LDEuMzQgMCwwIDEsNzcuNTYgMTIuOTNaTTM5LjM3LDExLjc3TDM5LjM3LDEzaDEuMDd2MC43N0wzOS4zNywxMy43N3YyLjZjMCwwLjUyIDAuMjEsMC43NSAwLjcsMC43NWEyLjE3LDIuMTcgMCwwIDAsMC4zNyAwdjAuNzhhNC4yNCw0LjI0IDAsMCAxLC0wLjUzIDBjLTEuMDksMCAtMS41MiwtMC4zNyAtMS41MiwtMS4zMkwzOC4zOSwxMy44TDM3LjYsMTMuOEwzNy42LDEzaDAuNzlMMzguMzksMTEuNzdaTTY4LjU0LDExLjc3TDY4LjU0LDEzaDEuMDd2MC43N0w2OC41NCwxMy43N3YyLjZjMCwwLjUyIDAuMjEsMC43NSAwLjcsMC43NWEyLjE3LDIuMTcgMCwwIDAsMC4zNyAwdjAuNzhhNC4yNCw0LjI0IDAsMCAxLC0wLjUzIDBjLTEuMDksMCAtMS41MiwtMC4zNyAtMS41MiwtMS4zMkw2Ny41NiwxMy44aC0wLjc5TDY2Ljc3LDEzaDAuNzlMNjcuNTYsMTEuNzdaTTU5LjgxLDEyLjkyYzEuMjUsMCAxLjk1LDAuNjEgMS45NSwxLjY0djMuMzZoLTAuOTR2LTAuNjloLTAuMDhhMS42OCwxLjY4IDAsMCAxLC0xLjQ5IDAuNzcsMS40OSAxLjQ5LDAgMCwxIC0xLjY2LC0xLjQ2YzAsLTAuODggMC42NywtMS4zOSAxLjg1LC0xLjQ3TDYwLjc4LDE1di0wLjQzYzAsLTAuNTMgLTAuMzQsLTAuODQgLTEsLTAuODRzLTAuOTMsMC4yMSAtMSwwLjU2aC0wLjk0QzU3Ljg5LDEzLjQ2IDU4LjY5LDEyLjkyIDU5LjgxLDEyLjkyWk00My4wNiwxMi45MmMxLjI1LDAgMS45NSwwLjYxIDEuOTUsMS42NHYzLjM2aC0wLjk0di0wLjY5TDQ0LDE3LjIzQTEuNjgsMS42OCAwLDAgMSw0Mi41IDE4YTEuNDksMS40OSAwLDAgMSwtMS42NiAtMS40NmMwLC0wLjg4IDAuNjcsLTEuMzkgMS44NSwtMS40N0w0NCwxNXYtMC40M2MwLC0wLjUzIC0wLjM0LC0wLjg0IC0xLC0wLjg0cy0wLjkzLDAuMjEgLTEsMC41Nkw0MSwxNC4yOUM0MS4xNCwxMy40NiA0MS45NCwxMi45MiA0My4wNiwxMi45MlpNNjQuNSwxMi45MmMxLjEyLDAgMS44NCwwLjUxIDEuOTQsMS4zNkw2NS41LDE0LjI4Yy0wLjA5LC0wLjM2IC0wLjQ0LC0wLjYgLTEsLTAuNnMtMSwwLjI2IC0xLDAuNjYgMC4yNSwwLjQ5IDAuNzksMC42MmwwLjgyLDAuMTljMC45NCwwLjIyIDEuMzksMC42MiAxLjM5LDEuMzQgMCwwLjkxIC0wLjg3LDEuNTMgLTIuMDYsMS41M3MtMiwtMC41MyAtMiwtMS4zOWgxYTEsMSAwLDAgMCwxLjA4IDAuNjNjMC42MSwwIDEsLTAuMjggMSwtMC42OHMtMC4yMywtMC41MSAtMC43MywtMC42M2wtMC44NywtMC4yYy0wLjk0LC0wLjIyIC0xLjM4LC0wLjYzIC0xLjM4LC0xLjM2UzYzLjM4LDEyLjkyIDY0LjUsMTIuOTJaTTcyLjI5LDEyLjkyYTIuMTYsMi4xNiAwLDAgMSwyLjIxIDIuNDd2MC4zNEw3MSwxNS43M3YwYTEuMzIsMS4zMiAwLDAgMCwxLjMyIDEuNDUsMS4xOCAxLjE4LDAgMCwwIDEuMTgsLTAuNjFoMC45NEEyLDIgMCwwIDEsNzIuMjkgMTgsMi4yNCAyLjI0LDAgMCwxIDcwLDE1LjQ4IDIuMjgsMi4yOCAwLDAgMSw3Mi4yOSAxMi45MlpNMzIuNTUsMTIuOTJhMS43MywxLjczIDAsMCAxLDEuNTYgMC44NmgwLjA3TDM0LjE4LDEzaDAuOTR2NWMwLDEuMTIgLTAuODksMS44MyAtMi4yOSwxLjgzIC0xLjI0LDAgLTIsLTAuNTUgLTIuMTUsLTEuMzdoMWMwLjA4LDAuMzcgMC40OSwwLjYgMS4xNSwwLjYgMC44MiwwIDEuMywtMC40IDEuMywtMS4wNkwzNC4xMywxN2gtMC4wN2ExLjY2LDEuNjYgMCwwIDEsLTEuNTMgMC44M2MtMS4yNywwIC0yLjA1LC0xIC0yLjA1LC0yLjQ1UzMxLjI4LDEyLjkzIDMyLjU1LDEyLjkzWiIgZmlsbD0iIzZjNmM3MCIgZmlsbC1vcGFjaXR5PSIxLjAiIGZpbGwtcnVsZT0iMSIvPgo8L3N2Zz4="
    let dolby_atmos = "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxuczphbmRyb2lkPSJodHRwOi8vc2NoZW1hcy5hbmRyb2lkLmNvbS9hcGsvcmVzL2FuZHJvaWQiIGhlaWdodD0iMzAiIHdpZHRoPSI2NC41IiB2aWV3Qm94PSIwIDAgNDMgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8cGF0aCBkPSJNMTEuNDE4NCwxMi41MjY0TDEzLjc2MTYsMTcuOTY1N0wxMi42NTUzLDE3Ljk2NTdMMTIuMTQ4MiwxNi43MjExTDkuNzg5OCwxNi43MjExTDkuMjk4MSwxNy45NjU3TDguMjE0OSwxNy45NjU3TDEwLjU4MSwxMi41MjY0TDExLjQxODQsMTIuNTI2NFpNMTcuOTM4NSwxMi41MjY0TDE3LjkzODUsMTMuMzcxNUwxNi4yNzE0LDEzLjM3MTVMMTYuMjcxNCwxNy45NjU3TDE1LjMwMzQsMTcuOTY1N0wxNS4zMDM0LDEzLjM3MTVMMTMuNjM2MywxMy4zNzE1TDEzLjYzNjMsMTIuNTI2NEwxNy45Mzg1LDEyLjUyNjRaTTIwLjY1OTcsMTIuNTI2NEwyMi4wNzMzLDE2LjM5MDhMMjIuMDk2NCwxNi4zOTA4TDIzLjQ5NDUsMTIuNTI2NEwyNS4wMTU2LDEyLjUyNjRMMjUuMDE1NiwxNy45NjU3TDI0LjA1NTQsMTcuOTY1N0wyNC4wNTU0LDEzLjU5NDRMMjQuMDQsMTMuNTk0NEwyMi4zODgyLDE3Ljk2NTdMMjEuNzEyMiwxNy45NjU3TDIwLjA4MzUsMTMuNTk0NEwyMC4wNjgyLDEzLjU5NDRMMjAuMDY4MiwxNy45NjU3TDE5LjE0NjIsMTcuOTY1N0wxOS4xNDYyLDEyLjUyNjRMMjAuNjU5NywxMi41MjY0Wk0yOC45NDEyLDEyLjUyNjVDMjkuMzQ1NywxMi41MjY1IDI5LjcxODcsMTIuNTg5OCAzMC4wNTk5LDEyLjcxNjVDMzAuNDAwOSwxMi44NDMyIDMwLjY5NTksMTMuMDIzNSAzMC45NDQ1LDEzLjI1NzVDMzEuMTkzMSwxMy40OTE0IDMxLjM4NjgsMTMuNzc1NCAzMS41MjU3LDE0LjEwOTJDMzEuNjY0NywxNC40NDMxIDMxLjczNCwxNC44MTcyIDMxLjczNCwxNS4yMzE0QzMxLjczNCwxNS42MzYgMzEuNjY0NywxNi4wMDUyIDMxLjUyNTcsMTYuMzM5QzMxLjM4NjgsMTYuNjcyOSAzMS4xOTMxLDE2Ljk2MDQgMzAuOTQ0NSwxNy4yMDE3QzMwLjY5NTksMTcuNDQyOSAzMC40MDA5LDE3LjYzMDcgMzAuMDU5OSwxNy43NjQ2QzI5LjcxODcsMTcuODk4NyAyOS4zNDU3LDE3Ljk2NTcgMjguOTQxMiwxNy45NjU3QzI4LjU0MTYsMTcuOTY1NyAyOC4xNzI0LDE3Ljg5ODcgMjcuODMzNywxNy43NjQ2QzI3LjQ5NDksMTcuNjMwNyAyNy4yMDI0LDE3LjQ0MjkgMjYuOTU2NCwxNy4yMDE3QzI2LjcxMDMsMTYuOTYwNCAyNi41MTc3LDE2LjY3MjkgMjYuMzc4OSwxNi4zMzlDMjYuMjQsMTYuMDA1MiAyNi4xNzA2LDE1LjYzNiAyNi4xNzA2LDE1LjIzMTRDMjYuMTcwNiwxNC44MTcyIDI2LjI0LDE0LjQ0MzEgMjYuMzc4OSwxNC4xMDkyQzI2LjUxNzcsMTMuNzc1NCAyNi43MTAzLDEzLjQ5MTQgMjYuOTU2NCwxMy4yNTc1QzI3LjIwMjQsMTMuMDIzNSAyNy40OTQ5LDEyLjg0MzIgMjcuODMzNywxMi43MTY1QzI4LjE3MjQsMTIuNTg5OCAyOC41NDE2LDEyLjUyNjUgMjguOTQxMiwxMi41MjY1Wk0zNC42NjI4LDEyLjUzNDdDMzQuOTI1MywxMi41MzQ3IDM1LjE5MTQsMTIuNTgxIDM1LjQ2MDksMTIuNjczMkMzNS43MzA3LDEyLjc2NTYgMzUuOTY1LDEyLjkwNCAzNi4xNjQzLDEzLjA4ODZMMzUuNTY2NywxMy43NDQ2QzM1LjQ2OTQsMTMuNjE4MyAzNS4zMzIyLDEzLjUxMjYgMzUuMTU0OSwxMy40Mjc2QzM0Ljk3NzUsMTMuMzQyNyAzNC43OTg4LDEzLjMgMzQuNjE5MSwxMy4zQzM0LjUxMjEsMTMuMyAzNC40MDUyLDEzLjMxMzUgMzQuMjk4NCwxMy4zNDAxQzM0LjE5MTUsMTMuMzY2OCAzNC4wOTQzLDEzLjQwODIgMzQuMDA2OSwxMy40NjRDMzMuOTE5NCwxMy41MTk5IDMzLjg0NzcsMTMuNTkyNyAzMy43OTE5LDEzLjY4MjdDMzMuNzM2LDEzLjc3MjYgMzMuNzA4MSwxMy44ODA3IDMzLjcwODEsMTQuMDA3QzMzLjcwODEsMTQuMTIzNyAzMy43MzIzLDE0LjIyMzQgMzMuNzgwOSwxNC4zMDU3QzMzLjgyOTUsMTQuMzg4NSAzMy44OTYzLDE0LjQ1OSAzMy45ODEzLDE0LjUxNzNDMzQuMDY2MywxNC41NzU2IDM0LjE2OTcsMTQuNjI2NiAzNC4yOTExLDE0LjY3MDNDMzQuNDEyNSwxNC43MTQxIDM0LjU0NjIsMTQuNzU3OCAzNC42OTIsMTQuODAxNUMzNC44NTcxLDE0Ljg1NSAzNS4wMjg1LDE0LjkxNTcgMzUuMjA1NywxNC45ODM3QzM1LjM4MzIsMTUuMDUxOCAzNS41NDYsMTUuMTQxNiAzNS42OTQyLDE1LjI1MzRDMzUuODQyMywxNS4zNjUyIDM1Ljk2MzksMTUuNTA2IDM2LjA1ODYsMTUuNjc2MUMzNi4xNTM0LDE1Ljg0NjIgMzYuMjAwNywxNi4wNTc2IDM2LjIwMDcsMTYuMzEwMkMzNi4yMDA3LDE2LjU4NzEgMzYuMTQ5NywxNi44Mjg5IDM2LjA0NzcsMTcuMDM1M0MzNS45NDU3LDE3LjI0MiAzNS44MDk2LDE3LjQxMzMgMzUuNjM5NSwxNy41NDkyQzM1LjQ2OTQsMTcuNjg1MyAzNS4yNzAyLDE3Ljc4NzQgMzUuMDQxOSwxNy44NTU0QzM0LjgxMzQsMTcuOTIzNCAzNC41NzI5LDE3Ljk1NzMgMzQuMzIwMiwxNy45NTczQzMzLjk4NSwxNy45NTczIDMzLjY1NzEsMTcuODk1NCAzMy4zMzY0LDE3Ljc3MTVDMzMuMDE1NywxNy42NDc2IDMyLjc1MzMsMTcuNDY0MyAzMi41NDkzLDE3LjIyMTFMMzMuMjA1MiwxNi42MDg5QzMzLjMzMTUsMTYuNzgzOSAzMy41MDAzLDE2LjkyMjMgMzMuNzExOCwxNy4wMjQ0QzMzLjkyMzEsMTcuMTI2NCAzNC4xMzA4LDE3LjE3NzQgMzQuMzM0OCwxNy4xNzc0QzM0LjQ0MTcsMTcuMTc3NCAzNC41NTEsMTcuMTY0MSAzNC42NjI4LDE3LjEzNzRDMzQuNzc0NSwxNy4xMTA3IDM0Ljg3NTMsMTcuMDY1OCAzNC45NjU0LDE3LjAwMjVDMzUuMDU1MywxNi45Mzk0IDM1LjEyODIsMTYuODYwNCAzNS4xODQsMTYuNzY1N0MzNS4yMzk3LDE2LjY3MDkgMzUuMjY3OCwxNi41NTMxIDM1LjI2NzgsMTYuNDEyMkMzNS4yNjc4LDE2LjI3NjEgMzUuMjM2MiwxNi4xNjMyIDM1LjE3MzEsMTYuMDczM0MzNS4xMDk5LDE1Ljk4MzQgMzUuMDI0NywxNS45MDU2IDM0LjkxNzksMTUuODQwMUMzNC44MTA5LDE1Ljc3NDUgMzQuNjg0NywxNS43MTc1IDM0LjUzODksMTUuNjY4OEMzNC4zOTMxLDE1LjYyMDMgMzQuMjQwMSwxNS41NjkyIDM0LjA3OTcsMTUuNTE1OEMzMy45MjQyLDE1LjQ2NzMgMzMuNzY4OCwxNS40MDg5IDMzLjYxMzMsMTUuMzQwOEMzMy40NTc3LDE1LjI3MjggMzMuMzE4MSwxNS4xODMgMzMuMTk0MiwxNS4wNzEyQzMzLjA3MDQsMTQuOTU5NCAzMi45Njk1LDE0LjgyMjIgMzIuODkxOCwxNC42NTk0QzMyLjgxNCwxNC40OTY2IDMyLjc3NTIsMTQuMjkzOCAzMi43NzUyLDE0LjA1MDdDMzIuNzc1MiwxMy43ODgzIDMyLjgyOTksMTMuNTYyNCAzMi45MzkyLDEzLjM3MjlDMzMuMDQ4NSwxMy4xODM1IDMzLjE5MTgsMTMuMDI2NyAzMy4zNjkyLDEyLjkwMjhDMzMuNTQ2NSwxMi43NzkgMzMuNzQ4MiwxMi42ODY3IDMzLjk3NDEsMTIuNjI1OEMzNC4yLDEyLjU2NTIgMzQuNDI5NiwxMi41MzQ3IDM0LjY2MjgsMTIuNTM0N1pNMjguOTQ4OSwxMy40MTA1QzI4LjY5MDgsMTMuNDEwNSAyOC40NTc3LDEzLjQ1NzQgMjguMjQ5MSwxMy41NTExQzI4LjA0MDQsMTMuNjQ0OSAyNy44NjExLDEzLjc3MzggMjcuNzExMSwxMy45Mzc5QzI3LjU2MTEsMTQuMTAyIDI3LjQ0NTEsMTQuMjk0MSAyNy4zNjMyLDE0LjUxNDVDMjcuMjgxLDE0LjczNDggMjcuMjQsMTQuOTc0IDI3LjI0LDE1LjIzMTdDMjcuMjQsMTUuNDk4OCAyNy4yODEsMTUuNzQzOSAyNy4zNjMyLDE1Ljk2NjVDMjcuNDQ1MSwxNi4xODkyIDI3LjU2MjQsMTYuMzgyNiAyNy43MTQ2LDE2LjU0NjZDMjcuODY3LDE2LjcxMDcgMjguMDQ3NSwxNi44Mzg1IDI4LjI1NjEsMTYuOTI5OUMyOC40NjQ3LDE3LjAyMTMgMjguNjk1NiwxNy4wNjcgMjguOTQ4OSwxNy4wNjdDMjkuMjAxOSwxNy4wNjcgMjkuNDM0LDE3LjAyMTMgMjkuNjQ0OSwxNi45Mjk5QzI5Ljg1NTksMTYuODM4NSAzMC4wMzc1LDE2LjcxMDcgMzAuMTg5OSwxNi41NDY2QzMwLjM0MjIsMTYuMzgyNiAzMC40NTk0LDE2LjE4OTIgMzAuNTQxNCwxNS45NjY1QzMwLjYyMzQsMTUuNzQzOSAzMC42NjQ2LDE1LjQ5ODggMzAuNjY0NiwxNS4yMzE3QzMwLjY2NDYsMTQuOTc0IDMwLjYyMzQsMTQuNzM0OCAzMC41NDE0LDE0LjUxNDVDMzAuNDU5NCwxNC4yOTQxIDMwLjM0MzQsMTQuMTAyIDMwLjE5MzUsMTMuOTM3OUMzMC4wNDMzLDEzLjc3MzggMjkuODYyOCwxMy42NDQ5IDI5LjY1MiwxMy41NTExQzI5LjQ0MSwxMy40NTc0IDI5LjIwNjYsMTMuNDEwNSAyOC45NDg5LDEzLjQxMDVaTTEwLjk3MjksMTMuNjc4OEwxMC4xMjAxLDE1Ljg5MTRMMTEuODEwMywxNS44OTE0TDEwLjk3MjksMTMuNjc4OFpNMzguMDE3NCwzLjUyNzRMMzkuNTY2OSw3LjAxMTJMNDEuMTE2MywzLjUyNzRMNDIuNDE1NiwzLjUyNzRDNDIuMTUxMiw0LjExODIgMzkuMzM4LDEwLjQwNDkgMzkuMzM1MSwxMC40MTEzQzM4Ljk4OTIsMTEuMTg2NiAzOC4wNzcsMTEuNTM3NCAzNy4zMDM5LDExLjE5MjVMMzcuMzAzOSwxMS4xOTI1TDM2Ljg5MTksMTEuMDA4NkwzNi44ODk5LDExLjAwNzhMMzcuMDM3NSwxMC42NzY2TDM3LjM3LDkuOTMwMkwzNy41NDA2LDEwLjAwNjNDMzcuODU5NCwxMC4xNDg1IDM4LjIzNTQsMTAuMDAzOSAzOC4zNzgxLDkuNjg0M0MzOC4zNzk0LDkuNjgxNSAzOC4zODAyLDkuNjc4NyAzOC4zODEyLDkuNjc2TDM4LjM4MTIsOS42NzZMMzguODU3Myw4LjYwMDVMMzguODczLDguNTY2MUwzOC45MTcyLDguNDcwNUwzNi43MTgyLDMuNTI3NEwzOC4wMTc0LDMuNTI3NFpNMzAuMjk0NCwxLjExMDRMMzAuMjk0NCw4Ljk2NDZMMjkuMTA1LDguOTY0NkwyOS4xMDUsMS4xMTA0TDMwLjI5NDQsMS4xMTA0Wk0zMi40ODU2LDEuMTEwNUwzMi40ODU2LDQuMDE2MkMzMi45MjY1LDMuNzA3NyAzMy40NjIzLDMuNTI2IDM0LjA0MDEsMy41MjZDMzUuNTM5MywzLjUyNiAzNi43NTg3LDQuNzQ1MyAzNi43NTg3LDYuMjQ0NkMzNi43NTg3LDcuNzQzOCAzNS41MzkzLDguOTYzMiAzNC4wNDAxLDguOTYzMkMzMy40NjIzLDguOTYzMiAzMi45MjY1LDguNzgxNSAzMi40ODU2LDguNDczTDMyLjQ4NTYsOC40NzNMMzIuNDg1Niw4Ljk2NDdMMzEuMjkzOSw4Ljk2NDdMMzEuMjkzOCwxLjExMDVMMzIuNDg1NiwxLjExMDVaTTI1LjYxNjgsMy41MjU3QzI3LjExNjEsMy41MjU3IDI4LjMzNTQsNC43NDUgMjguMzM1NCw2LjI0NDNDMjguMzM1NCw3Ljc0MzUgMjcuMTE2MSw4Ljk2MjggMjUuNjE2OCw4Ljk2MjhDMjQuMTE3NSw4Ljk2MjggMjIuODk4Miw3Ljc0MzUgMjIuODk4Miw2LjI0NDNDMjIuODk4Miw0Ljc0NSAyNC4xMTc1LDMuNTI1NyAyNS42MTY4LDMuNTI1N1pNMy4xNTc0LDEuMTA5QzUuMzE4NywxLjEwOSA3LjA4MDUsMi44NzA5IDcuMDgwNSw1LjAzMjFDNy4wODA1LDcuMTkzNCA1LjMxODcsOC45NTUyIDMuMTU3NCw4Ljk1NTJMMiw4Ljk1NTJMMiwxLjEwOUwzLjE1NzQsMS4xMDlaTTEzLjE2MTksMS4xMDlMMTMuMTYxOSw4Ljk1NTJMMTIuMDA0NSw4Ljk1NTJDOS44NDMyLDguOTU1MiA4LjA4MTQsNy4xOTM0IDguMDgxNCw1LjAzMjFDOC4wODE0LDIuODcwOSA5Ljg0MzIsMS4xMDkgMTIuMDA0NSwxLjEwOUwxMy4xNjE5LDEuMTA5Wk0xOC4zNzE1LDEuMTA5QzIwLjUzNDgsMS4xMDkgMjIuMjk0NiwyLjg2ODkgMjIuMjk0Niw1LjAzMjFDMjIuMjk0Niw3LjE5NTQgMjAuNTM0OCw4Ljk1NTMgMTguMzcxNSw4Ljk1NTNMMTguMzcxNSw4Ljk1NTNMMTUuNTM3OCw4Ljk1NTNMMTUuNTM3OCwxLjEwOVpNMjUuNjE2OCw0LjU5NUMyNC43MTcyLDQuNTk1IDIzLjk3NzYsNS4zMjQ2IDIzLjk3NzYsNi4yMzQyQzIzLjk3NzYsNy4xMzM4IDI0LjcwNzIsNy44NzM0IDI1LjYxNjgsNy44NzM0QzI2LjUxNjMsNy44NzM0IDI3LjI1NTksNy4xNDM4IDI3LjI1NTksNi4yMzQyQzI3LjI1NTksNS4zMzQ3IDI2LjUxNjMsNC41OTUgMjUuNjE2OCw0LjU5NVpNMzQuMDQwMSw0LjU5NTRDMzMuMzE5OSw0LjU5NTQgMzIuNzAzMiw1LjA2MzcgMzIuNDg1Niw1LjcxNzFDMzIuNDMxNCw1Ljg3OTcgMzIuNDAxLDYuMDUzMyAzMi40MDEsNi4yMzQ2QzMyLjQwMSw2LjQxNDggMzIuNDMxNCw2LjU4ODEgMzIuNDg1Niw2Ljc1MDlDMzIuNzAxOCw3LjQwMDIgMzMuMzEyOCw3Ljg3MzcgMzQuMDQwMSw3Ljg3MzdDMzQuOTM5Nyw3Ljg3MzcgMzUuNjc5Myw3LjE0NDIgMzUuNjc5Myw2LjIzNDZDMzUuNjc5Myw1LjMzNSAzNC45Mzk3LDQuNTk1NCAzNC4wNDAxLDQuNTk1NFpNMTguMzcxNSwyLjI5ODZMMTYuNzI3MywyLjI5ODZMMTYuNzI3Myw3Ljc2NTdMMTguMzcxNSw3Ljc2NTdDMTkuODc3NSw3Ljc2NTcgMjEuMTA1MSw2LjUzOCAyMS4xMDUxLDUuMDMyMUMyMS4xMDUxLDMuNTI2MiAxOS44Nzc1LDIuMjk4NiAxOC4zNzE1LDIuMjk4NkwxOC4zNzE1LDIuMjk4NloiIGZpbGw9IiM2YzZjNzAiIGZpbGwtcnVsZT0iMSIgc3Ryb2tlPSIjMDAwMDAwMDAiIHN0cm9rZS13aWR0aD0iMSIvPgo8L3N2Zz4="

    new MutationObserver(function(mutationList) {
        let currentParentElement = null;
        mutationList.forEach((element) => {
            if (element.target.className == "songs-list-row__song-name") {
                currentParentElement = element.target.closest('.songs-list-row__song-wrapper')
                set_badges(currentParentElement)
            } else if (element.target["s-hn"] == "CWC-UPSELL-BANNER") {
                document.getElementsByTagName('cwc-music-upsell-banner-web')[0].remove()
            }
        })
    }).observe(document, { childList: true, subtree: true });


    function set_badges(parentElement) {
        try {
            if ( albumObj.type == 'albums' && window.location.href.includes('/album/') ) {
                const albumHeaderParent = document.getElementsByClassName('album-header-metadata')[0]
                if( !document.getElementById('album_quality') ) {
                    let albumHeaderContainer = GM_addElement(albumHeaderParent, 'div', {
                        id: 'album_quality',
                    })
                    albumHeaderContainer.id = 'album_quality'

                    albumObj.attributes.audioTraits.sort().reverse().forEach(
                        (audioTrait) => {
                            switch (audioTrait) {
                                case 'lossless': {
                                    GM_addElement(albumHeaderContainer, 'img', { src: lossless, class: 'audio_quality', alt: "ALAC lossless" })
                                    break
                                }
                                case 'atmos': {
                                    GM_addElement(albumHeaderContainer, 'img', { src: dolby_atmos, class: 'audio_quality', alt: "ATMOS" })
                                    break
                                }
                                case 'hi-res-lossless': {
                                    GM_addElement(albumHeaderContainer, 'img', { src: hires_lossless, class: 'audio_quality', alt: "High-Resolution Audio" })
                                    break
                                }
                            }
                        }
                    )
                    if (albumObj.attributes.isAppleDigitalMaster) { GM_addElement(albumHeaderContainer, 'img', { src: apple_digital_master, class: 'audio_quality', alt: "Apple Digital Master" }) }
                    if (albumObj.attributes.isMasteredForItunes) { GM_addElement(albumHeaderContainer, 'img', { src: apple_digital_master, class: 'audio_quality', alt: "Mastered For Itunes" }) }
                }
            }

            const topParent = parentElement.closest('.songs-list-row')
            const button = topParent.getElementsByClassName('preview-button__tracklist')[0]
            const trackID = JSON.parse(button.dataset.metricsClick).targetId

            if(!document.getElementById('quality_'+trackID)) {
                let imgContainer = GM_addElement(parentElement, 'div', {
                    id: 'quality_'+trackID,
                    class: 'quality',
                })
                imgContainer.id = 'quality_'+trackID

                let trackObj = albumObj.relationships.tracks.data.find(song => song.id === trackID)
                trackObj.attributes.audioTraits.sort().reverse().forEach(
                    (audioTrait) => {
                        switch (audioTrait) {
                            case 'lossless': {
                                GM_addElement(imgContainer, 'img', { src: lossless, class: 'track_quality', alt: "ALAC lossless" })
                                break
                            }
                            case 'hi-res-lossless': {
                                GM_addElement(imgContainer, 'img', { src: hires_lossless, class: 'track_quality', alt: "ALAC Hi Res lossless" })
                                break
                            }
                            case 'atmos': {
                                GM_addElement(imgContainer, 'img', { src: dolby_atmos, class: 'audio_quality', alt: "ATMOS" })
                                break
                                }
                        }
                    }
                )
            }

        } catch { }
    }

})();